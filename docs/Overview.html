<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Yangyong Ye" />

<meta name="date" content="2020-11-21" />

<title>Data Science for Education with .red[R]</title>

<script src="site_libs/header-attrs/header-attrs.js"></script>
<script src="site_libs/jquery/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap/shim/respond.min.js"></script>
<script src="site_libs/jqueryui/jquery-ui.min.js"></script>
<link href="site_libs/tocify/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify/jquery.tocify.js"></script>
<script src="site_libs/navigation/tabsets.js"></script>
<link href="site_libs/highlightjs/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs/highlight.js"></script>
<link href="site_libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="site_libs/anchor-sections/anchor-sections.js"></script>
<script src="site_libs/htmlwidgets/htmlwidgets.js"></script>
<link href="site_libs/vis/vis.min.css" rel="stylesheet" />
<script src="site_libs/vis/vis.min.js"></script>
<link href="site_libs/timeline/timevis.css" rel="stylesheet" />
<script src="site_libs/timevis-binding/timevis.js"></script>
<link href="site_libs/font-awesome/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome/css/v4-shims.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/master/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">teacher_status</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/xiaomaohao/teacher_status">
    <span class="fa fa-github"></span>
     
    Source code
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Data Science for Education with .red[<strong>R</strong>]</h1>
<h3 class="subtitle">First class</h3>
<h4 class="author">Yangyong Ye</h4>
<h4 class="date">2020-11-21</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span> workflowr <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> </a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2020-11-21
</p>
<p>
<strong>Checks:</strong> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 7 <span class="glyphicon glyphicon-exclamation-sign text-danger" aria-hidden="true"></span> 0
</p>
<p>
<strong>Knit directory:</strong> <code>teacher_status/analysis/</code> <span class="glyphicon glyphicon-question-sign" aria-hidden="true" title="This is the local directory in which the code in this file was executed."> </span>
</p>
<p>
This reproducible <a href="http://rmarkdown.rstudio.com">R Markdown</a> analysis was created with <a
  href="https://github.com/jdblischak/workflowr">workflowr</a> (version 1.6.2). The <em>Checks</em> tab describes the reproducibility checks that were applied when the results were created. The <em>Past versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>R Markdown file:</strong> up-to-date </a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate" class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git repository, you know the exact version of the code that produced these results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the global environment can affect the analysis in your R Markdown file in unknown ways. For reproduciblity it’s best to always run the code in an empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20201029code"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Seed:</strong> <code>set.seed(20201029)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20201029code" class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20201029)</code> was run prior to running the code in the R Markdown file. Setting a seed ensures that any results that rely on randomness, e.g. subsampling or permutations, are reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Session information:</strong> recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be confident that you successfully produced the results during this run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomxiaomaohaoteacherstatustree03ca7f6f66a296ad89a7ba1ec32637c1e4264f55targetblank03ca7f6a"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Repository version:</strong> <a href="https://github.com/xiaomaohao/teacher_status/tree/03ca7f6f66a296ad89a7ba1ec32637c1e4264f55" target="_blank">03ca7f6</a> </a>
</p>
</div>
<div id="strongRepositoryversionstrongahrefhttpsgithubcomxiaomaohaoteacherstatustree03ca7f6f66a296ad89a7ba1ec32637c1e4264f55targetblank03ca7f6a" class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development and connecting the code version to the results is critical for reproducibility.
</p>
<p>
The results in this page were generated with repository version <a href="https://github.com/xiaomaohao/teacher_status/tree/03ca7f6f66a296ad89a7ba1ec32637c1e4264f55" target="_blank">03ca7f6</a>. See the <em>Past versions</em> tab to see a history of the changes made to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for the analysis have been committed to Git prior to generating the results (you can use <code>wflow_publish</code> or <code>wflow_git_commit</code>). workflowr only checks the R Markdown file, but you know if there are other scripts or data files that it depends on. Below is the status of the Git repository when the results were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rproj.user/

Untracked files:
    Untracked:  ignite.R

Unstaged changes:
    Modified:   _workflowr.yml

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not included in this status report because it is ok for generated content to have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were made to the R Markdown (<code>analysis/Overview.Rmd</code>) and HTML (<code>docs/Overview.html</code>) files. If you’ve configured a remote Git repository (see <code>?wflow_git_remote</code>), click on the hyperlinks in the table below to view the files as they were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/xiaomaohao/teacher_status/28a71f024a03b581edfb5846d5eb3e1f596985c1/docs/Overview.html" target="_blank">28a71f0</a>
</td>
<td>
yangyong ye
</td>
<td>
2020-11-21
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/xiaomaohao/teacher_status/blob/2fab39362020fa04815f149a160694e86a8b26d6/analysis/Overview.Rmd" target="_blank">2fab393</a>
</td>
<td>
yangyong ye
</td>
<td>
2020-11-21
</td>
<td>
Add my first analysis
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<div id="为什么要学定量研究" class="section level1">
<h1>为什么要学定量研究？</h1>
<ul>
<li><p>教育研究走向实证研究</p></li>
<li><p>政策研究必须以定量研究为前提</p></li>
<li><p>工作需要</p></li>
</ul>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td># 一个例子</td>
</tr>
<tr class="even">
<td>- 缺少编制？</td>
</tr>
<tr class="odd">
<td>- 工资待遇低？</td>
</tr>
<tr class="even">
<td>- 高级职称指标少？</td>
</tr>
<tr class="odd">
<td>- 工作任务繁重？</td>
</tr>
<tr class="even">
<td>- 新教师质量越来越差？</td>
</tr>
<tr class="odd">
<td>??? 可以请学生罗列他们认为教育领域存在哪些棘手的问题？</td>
</tr>
</tbody>
</table>
</div>
<div id="定量研究有哪些特点" class="section level1">
<h1>定量研究有哪些特点</h1>
<ul>
<li><p>量化</p></li>
<li><p>关注于关系</p></li>
<li><p>关注于总体</p></li>
</ul>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td># 如何学好定量研究？</td>
</tr>
<tr class="even">
<td>- 不要恐惧</td>
</tr>
<tr class="odd">
<td>- 多看论文</td>
</tr>
<tr class="even">
<td>- <strong>练习、练习、练习</strong></td>
</tr>
</tbody>
</table>
</div>
<div id="定量研究步骤" class="section level1">
<h1>定量研究步骤</h1>
<ul>
<li>确定主题
<ul>
<li>目标群体（测量单位）</li>
<li>相关变量</li>
</ul></li>
<li>理论构架（提出假设）</li>
<li>收集数据
<ul>
<li>问卷调查</li>
<li>二手数据（官方数据、共享数据）</li>
</ul></li>
<li>数据清理</li>
<li>模型建构
<ul>
<li>模型选择</li>
<li>变量选择</li>
</ul></li>
<li>数据分析与展示</li>
<li>结果解读</li>
<li>启示建议</li>
</ul>
<hr />
<p>class: center, middle,inverse</p>
</div>
<div id="lets-begin-ou.redr-journey" class="section level1">
<h1>Let’s begin ou.red[<strong>R</strong>] journey!</h1>
<p>class: center, middle,inverse</p>
</div>
<div id="why-r" class="section level1">
<h1>Why R?</h1>
<div id="small" class="section level3">
<h3>small</h3>
</div>
<div id="versatile" class="section level3">
<h3>versatile</h3>
</div>
<div id="beautiful" class="section level3">
<h3>beautiful</h3>
</div>
<div id="not-hard-to-learn" class="section level3">
<h3>not hard to learn</h3>
<p>???</p>
<p>In this slide, I will talk about the advantages of R and why I change from spss to R.</p>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td>class: inverse, middle</td>
</tr>
<tr class="even">
<td># Course Overview - Environment Preparation</td>
</tr>
<tr class="odd">
<td>- Data fetching</td>
</tr>
<tr class="even">
<td>- Data preparation</td>
</tr>
<tr class="odd">
<td>- Data tabulation</td>
</tr>
<tr class="even">
<td>- Data visulization</td>
</tr>
<tr class="odd">
<td>- Data analysis</td>
</tr>
<tr class="even">
<td>- Data creation</td>
</tr>
</tbody>
</table>
<p>class: center middle</p>
</div>
</div>
<div id="class-schedules" class="section level1">
<h1>Class Schedules</h1>
<div id="htmlwidget-9072531899b0581136d5" class="timevis html-widget" style="width:960px;height:480px;">
<div class="btn-group zoom-menu">
<button type="button" class="btn btn-default btn-lg zoom-in" title="Zoom in">+</button>
<button type="button" class="btn btn-default btn-lg zoom-out" title="Zoom out">-</button>
</div>
</div>
<script type="application/json" data-for="htmlwidget-9072531899b0581136d5">{"x":{"items":[{"id":"1","content":"week 1: \nintroduction","start":"2018-11-13"},{"id":"2","content":"week 2: data preparation","start":"2018-11-20"},{"id":"3","content":"week 3: data tabulation","start":"2018-11-27"},{"id":"4","content":"week 4: data visualization I","start":"2018-12-4"},{"id":"5","content":"week 5: data visualization II","start":"2018-12-11"},{"id":"6","content":"week 6: data analysis","start":"2018-12-18"},{"id":"7","content":"week 7: data analysis","start":"2018-12-25"},{"id":"8","content":"week 8: data creation","start":"2019-01-01"}],"groups":null,"showZoom":true,"zoomFactor":0.5,"fit":true,"options":{"width":"800px","height":"400px"},"height":null,"timezone":null,"api":[]},"evals":[],"jsHooks":[]}</script>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td>class: inverse, middle</td>
</tr>
<tr class="even">
<td># Preparation</td>
</tr>
<tr class="odd">
<td>- Environment Preparation</td>
</tr>
<tr class="even">
<td>- RStudio installation</td>
</tr>
<tr class="odd">
<td>- RStudio introduction</td>
</tr>
<tr class="even">
<td>- R introduction</td>
</tr>
<tr class="odd">
<td>- Common package installation (eg. <strong>tidyverse</strong>)</td>
</tr>
<tr class="even">
<td>- Self-learning material <a href="http://r4ds.had.co.nz/">R for data science</a></td>
</tr>
</tbody>
</table>
<p>class: inverse, middle # Data Fetching - SOURCE</p>
<ul>
<li><p>中国教育追踪调查<a href="http://ceps.ruc.edu.cn/">CEPS</a></p></li>
<li><p>中国家庭追踪调查<a href="http://www.isss.pku.edu.cn/cfps/">CFPS</a></p></li>
<li><p>中国社会综合调查<a href="http://cgss.ruc.edu.cn/">CGSS</a></p></li>
<li><p>中国家庭收入调查<a href="http://ciid.bnu.edu.cn/chip/index.asp">CHIP</a></p></li>
<li><p>中国健康与营养调查<a href="https://www.cpc.unc.edu/projects/china">CHNS</a></p></li>
</ul>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td>class: inverse</td>
</tr>
<tr class="even">
<td># 熟悉调查数据的步骤</td>
</tr>
<tr class="odd">
<td>- user guide</td>
</tr>
<tr class="even">
<td>- questionnaire</td>
</tr>
<tr class="odd">
<td>- technical report</td>
</tr>
<tr class="even">
<td>- codebook</td>
</tr>
<tr class="odd">
<td>- data</td>
</tr>
</tbody>
</table>
<p>class: inverse, middle # 官方教育统计数据</p>
<ul>
<li><p>中国教育年鉴（1949-1981，1982-1984，1985-1986,1988）<a href="http://cyfd.cnki.com.cn/N2014080445.htm">EDU</a></p></li>
<li><p>中国教育统计年鉴(1987-2017)<a href="http://data.cnki.net/yearbook/Single/N2017120244">EDU_STAT</a></p></li>
<li><p>中国教育经费统计年鉴<a href="http://data.cnki.net/yearbook/Single/N2018070117">EDU-FINA</a></p></li>
</ul>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td>class: inverse, middle # 练习</td>
</tr>
<tr class="even">
<td>1. 小学（学校、学生（招生数、在校生、毕业生）、专任教师）（高诗琪） 2. 初中（学校、学生（招生数、在校生、毕业生）、专任教师）（耿雪） 3. 普通高中（学校、学生（招生数、在校生、毕业生）、专任教师）（栾艺雯） 4. 中专、职业高中、技工学校（学校、学生（招生数、在校生、毕业生）、专任教师）（高佳毅） 5. 高职高专（学校、学生（招生数、在校生、毕业生）、专任教师）（马海燕） 6. 普通高等学校（学校、学生（招生数、在校生、毕业生）、专任教师）（贺子容） 7. 中师（学校、学生（招生数、在校生、毕业生）、专任教师）（陶纯珺） 8. 师范院校（学校、学生（招生数、在校生、毕业生）、专任教师）（苗兴慧）</td>
</tr>
</tbody>
</table>
<p>class: middle,inverse # Data Preparation</p>
<ul>
<li><p>Data Manipulation</p>
<ul>
<li><p>recode/rename</p></li>
<li><p>subset(select/filter)</p></li>
<li><p>join/combine</p></li>
<li><p>arrange</p></li>
<li><p>summarize</p></li>
<li><p>count</p></li>
<li><p>reshape</p></li>
</ul></li>
</ul>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td>class: middle,inverse</td>
</tr>
<tr class="even">
<td># Data Tabulation</td>
</tr>
<tr class="odd">
<td>- Table Type</td>
</tr>
<tr class="even">
<td>- frequency table</td>
</tr>
<tr class="odd">
<td>- cross-table</td>
</tr>
<tr class="even">
<td>- summary table</td>
</tr>
<tr class="odd">
<td>- table formating<sup>*<sup></td>
</tr>
<tr class="even">
<td>- test-table(t, chi, anovo)</td>
</tr>
<tr class="odd">
<td>- regression table</td>
</tr>
<tr class="even">
<td>.footnote[[*]this will use kableExtra package]</td>
</tr>
</tbody>
</table>
<p>class: inverse, middle</p>
</div>
<div id="data-visualiztion" class="section level1">
<h1>Data Visualiztion</h1>
<ul>
<li><p><a href="https://www.r-graph-gallery.com/">Graph Type</a></p>
<ul>
<li><p><strong>Rankings</strong>: Barplot,circular barplot, Spider/Radar, parallel, lollipop/stem, circular barplot</p></li>
<li><p><strong>Distribution</strong>: histgram, density, boxplot, violin, ridgeline/joyplot</p></li>
<li><p><strong>Correlation</strong>: scatter, heatmap, correlogram, bubble, connected scatter, density 2D</p></li>
<li><p><strong>Composition</strong>: treemap, dendrogram, venn diagram, stacked bar, pie chart, doughnut, circular packing</p></li>
</ul></li>
</ul>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td>class: inverse, middle</td>
</tr>
<tr class="even">
<td># Data Visualiztion</td>
</tr>
<tr class="odd">
<td>- <a href="https://www.r-graph-gallery.com/">Graph Type</a></td>
</tr>
<tr class="even">
<td>- <strong>Evolution</strong>: line, Area, stacked area, streamgraph, parallel, time series</td>
</tr>
<tr class="odd">
<td>- <strong>Maps</strong>: background map, connection, choropleth, bubble, hexbin map, cartogram</td>
</tr>
<tr class="even">
<td>- <strong>Flow</strong>: network, chord diagram, hierarchical edge bundling, sankey diagram</td>
</tr>
<tr class="odd">
<td>- <strong>Other</strong>: interactive, animation, 3d, color, cheat sheet.</td>
</tr>
</tbody>
</table>
<p>class: middle,inverse</p>
</div>
<div id="data-visualiztion-1" class="section level1">
<h1>Data Visualiztion</h1>
<ul>
<li><p>Useful packages</p>
<ul>
<li><p>comprehensive package: <strong>ggplot2</strong></p></li>
<li><p>for dendrogram: <strong>packcircles</strong>,<strong>ggraph</strong>, <strong>treemap</strong>, <strong>dendextend</strong></p></li>
<li><p>for network: <strong>igraph</strong>,<strong>tidygraph</strong>,<strong>ggraph</strong></p></li>
<li><p>correlation matrix: <strong>ellipse</strong>, <strong>car</strong>, <strong>GGally</strong>,<strong>corrgram</strong></p></li>
<li><p>flow diagram: <strong>ggalluvial</strong></p></li>
</ul></li>
</ul>
<p>class: middle,inverse # Data Analysis</p>
<ul>
<li><p>Data analysis ladder</p>
<ul>
<li><p>simple test(<strong>t</strong>, <em>chi</em>, anova)</p></li>
<li><p>correlation</p></li>
<li><p>factor analysis</p></li>
<li><p>cluster analysis</p></li>
<li><p>regresion</p></li>
</ul></li>
</ul>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td>class: middle,inverse</td>
</tr>
<tr class="even">
<td># Logistics - MATERIALS</td>
</tr>
<tr class="odd">
<td>- Garrett Grolemund, Hadley Wickhan. <a href="https://r4ds.had.co.nz/">R for data science</a> - Hadley Wickham, Ggplot2-Elegant-Graphics for Data Analysis(2nd), Springer. - 王孝玲,教育统计学,华东师范大学出版社. - Other(TBC)</td>
</tr>
<tr class="even">
<td>- ACCESSMENT - Presence and class performance (10%) - Group survey project (20%) - Assignments (30%) - Individual project proposal (40%)</td>
</tr>
</tbody>
</table>
<p>class: middle,inverse, center</p>
</div>
<div id="project-example" class="section level1">
<h1>Project Example</h1>
<div id="学生惩戒" class="section level2">
<h2>学生惩戒</h2>
</div>
<div id="财政年报" class="section level2">
<h2>财政年报</h2>
</div>
<div id="建档立卡学生就学报告" class="section level2">
<h2>建档立卡学生就学报告</h2>
</div>
<div id="高考成绩分析报告" class="section level2">
<h2>高考成绩分析报告</h2>
<p>??? 高考成绩分析三个项目：（1）语数外成绩分布的问题：为什么语文的变异小数学的变异大？为什么英语不呈现正太分布？为什么数学左边是锯齿状的？哪门学科更重要？ （2）不同群体的对比问题，男女、城乡、应往届、文理科 （3）入学年龄对成绩的影响</p>
<hr />
</div>
</div>
<div id="introduction-to-r" class="section level1">
<h1>Introduction to R</h1>
<ul>
<li><p>R is a language and environment for statistical computing and graphics.</p></li>
<li><p>R is available as Free Software.</p></li>
<li><p>R can be extended (easily) via packages.</p></li>
</ul>
<hr />
</div>
<div id="可能出错及解决方法" class="section level1">
<h1>可能出错及解决方法</h1>
<p>1.R和Rstudio安装路径不能有中文；</p>
<p>2.R和Rstudio安装目录相同；</p>
<p>3.windows用户名包含中文，改成英文后重新安装；</p>
<p>4.最后我通过右键-属性-以管理员身份运行，Rstudio可以打开。</p>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td># Example in R window</td>
</tr>
<tr class="even">
<td>count: false</td>
</tr>
<tr class="odd">
<td>.panel1-plotex-auto[</td>
</tr>
<tr class="even">
<td><code>r data(cars)  #&lt;&lt;</code> ]</td>
</tr>
<tr class="odd">
<td>.panel2-plotex-auto[</td>
</tr>
<tr class="even">
<td>]</td>
</tr>
</tbody>
</table>
<p>count: false</p>
<p>.panel1-plotex-auto[</p>
<pre class="r"><code>data(cars)
head(cars)  #&lt;&lt;</code></pre>
<p>]</p>
<p>.panel2-plotex-auto[</p>
<pre><code>  speed dist
1     4    2
2     4   10
3     7    4
4     7   22
5     8   16
6     9   10</code></pre>
<p>]</p>
<hr />
<p>count: false</p>
<p>.panel1-plotex-auto[</p>
<pre class="r"><code>data(cars)
head(cars)
with(cars, plot(speed, dist))  #&lt;&lt;</code></pre>
<p>]</p>
<p>.panel2-plotex-auto[</p>
<pre><code>  speed dist
1     4    2
2     4   10
3     7    4
4     7   22
5     8   16
6     9   10</code></pre>
<p><img src="figure/Overview.Rmd/plotex_auto_03_output-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-plotex_auto_03_output-1">
Past versions of plotex_auto_03_output-1.png
</button>
</p>
<div id="fig-plotex_auto_03_output-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/xiaomaohao/teacher_status/blob/28a71f024a03b581edfb5846d5eb3e1f596985c1/docs/figure/Overview.Rmd/plotex_auto_03_output-1.png" target="_blank">28a71f0</a>
</td>
<td>
yangyong ye
</td>
<td>
2020-11-21
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>]</p>
<style>
.panel1-plotex-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-plotex-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-plotex-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
</style>
<pre class="r"><code>data(cars)
head(cars)</code></pre>
<pre><code>  speed dist
1     4    2
2     4   10
3     7    4
4     7   22
5     8   16
6     9   10</code></pre>
<pre class="r"><code>with(cars, plot(speed, dist))</code></pre>
<p><img src="figure/Overview.Rmd/plotex-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-plotex-1">
Past versions of plotex-1.png
</button>
</p>
<div id="fig-plotex-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/xiaomaohao/teacher_status/blob/28a71f024a03b581edfb5846d5eb3e1f596985c1/docs/figure/Overview.Rmd/plotex-1.png" target="_blank">28a71f0</a>
</td>
<td>
yangyong ye
</td>
<td>
2020-11-21
</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr />
</div>
<div id="intro-to-rstudio" class="section level1">
<h1>Intro to Rstudio</h1>
<ul>
<li>Intro panel: source/console/environment</li>
</ul>
<ol style="list-style-type: decimal">
<li><p>create a script, and save it, and open</p></li>
<li><p>create a project, put a data in it</p></li>
<li><p>install package, like “tidyverse”, it is important to change mirror source</p></li>
<li><p>options/appearance, setup theme.</p></li>
</ol>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td># for Rstudio package installation</td>
</tr>
<tr class="even">
<td>count: false</td>
</tr>
<tr class="odd">
<td>.panel1-plotex2-auto[</td>
</tr>
<tr class="even">
<td><code>r #install.packages("tidyverse")  #install.packages("tidyverse")#&lt;&lt;</code> ]</td>
</tr>
<tr class="odd">
<td>.panel2-plotex2-auto[</td>
</tr>
<tr class="even">
<td>]</td>
</tr>
</tbody>
</table>
<p>count: false</p>
<p>.panel1-plotex2-auto[</p>
<pre class="r"><code>#install.packages(&quot;tidyverse&quot;)  #install.packages(&quot;tidyverse&quot;)
library(tidyverse)  #&lt;&lt;</code></pre>
<p>]</p>
<p>.panel2-plotex2-auto[]</p>
<hr />
<p>count: false</p>
<p>.panel1-plotex2-auto[</p>
<pre class="r"><code>#install.packages(&quot;tidyverse&quot;)  #install.packages(&quot;tidyverse&quot;)
library(tidyverse)
ggplot(mpg)   #&lt;&lt;</code></pre>
<p>]</p>
<p>.panel2-plotex2-auto[ <img src="figure/Overview.Rmd/plotex2_auto_03_output-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-plotex2_auto_03_output-1">
Past versions of plotex2_auto_03_output-1.png
</button>
</p>
<div id="fig-plotex2_auto_03_output-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/xiaomaohao/teacher_status/blob/28a71f024a03b581edfb5846d5eb3e1f596985c1/docs/figure/Overview.Rmd/plotex2_auto_03_output-1.png" target="_blank">28a71f0</a>
</td>
<td>
yangyong ye
</td>
<td>
2020-11-21
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>]</p>
<hr />
<p>count: false</p>
<p>.panel1-plotex2-auto[</p>
<pre class="r"><code>#install.packages(&quot;tidyverse&quot;)  #install.packages(&quot;tidyverse&quot;)
library(tidyverse)
ggplot(mpg) +
  geom_point(mapping = aes(x = displ, y = hwy))  #&lt;&lt;</code></pre>
<p>]</p>
<p>.panel2-plotex2-auto[ <img src="figure/Overview.Rmd/plotex2_auto_04_output-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-plotex2_auto_04_output-1">
Past versions of plotex2_auto_04_output-1.png
</button>
</p>
<div id="fig-plotex2_auto_04_output-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/xiaomaohao/teacher_status/blob/28a71f024a03b581edfb5846d5eb3e1f596985c1/docs/figure/Overview.Rmd/plotex2_auto_04_output-1.png" target="_blank">28a71f0</a>
</td>
<td>
yangyong ye
</td>
<td>
2020-11-21
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>]</p>
<style>
.panel1-plotex2-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-plotex2-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-plotex2-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
</style>
<p><img src="figure/Overview.Rmd/plotex2-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-plotex2-1">
Past versions of plotex2-1.png
</button>
</p>
<div id="fig-plotex2-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/xiaomaohao/teacher_status/blob/28a71f024a03b581edfb5846d5eb3e1f596985c1/docs/figure/Overview.Rmd/plotex2-1.png" target="_blank">28a71f0</a>
</td>
<td>
yangyong ye
</td>
<td>
2020-11-21
</td>
</tr>
</tbody>
</table>
</div>
</div>
<table style="width:6%;">
<colgroup>
<col width="5%" />
</colgroup>
<tbody>
<tr class="odd">
<td>class: middle, inverse</td>
</tr>
<tr class="even">
<td># A Swiss-Army Knife for Data I/O <a href="https://cloud.r-project.org/web/packages/rio/vignettes/rio.html">rio</a></td>
</tr>
<tr class="odd">
<td><code>r #install.packages("rio") library(rio) install_formats()</code></td>
</tr>
<tr class="even">
<td><code>[1] TRUE</code></td>
</tr>
</tbody>
</table>
</div>
<div id="homework-for-.rednext-week" class="section level1">
<h1>Homework for .red[NEXT] Week</h1>
<ul>
<li><p>Chapter 1-4 from Doc. Wang</p></li>
<li><p>Chapter 1-8 from <a href="https://r4ds.had.co.nz/">R4DS</a> (required)</p></li>
<li><p>Chapter 1- 3 <a href="https://intro2r.com/install-r.html?s=09">Introducation to R</a>(recommended)</p></li>
<li><p>Download <strong>CEPS</strong> data. read documentations</p></li>
</ul>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 3.6.3 Patched (2020-04-28 r79449)
Platform: x86_64-apple-darwin15.6.0 (64-bit)
Running under: macOS Mojave 10.14.5

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] rio_0.5.23       timevis_1.0.0    forcats_0.5.0    stringr_1.4.0   
 [5] dplyr_1.0.2      purrr_0.3.4.9000 readr_1.4.0      tidyr_1.1.2     
 [9] tibble_3.0.4     ggplot2_3.3.2    tidyverse_1.3.0  flipbookr_0.1.0 
[13] workflowr_1.6.2 

loaded via a namespace (and not attached):
 [1] Rcpp_1.0.5        lubridate_1.7.9.2 assertthat_0.2.1  rprojroot_2.0.2  
 [5] digest_0.6.27     mime_0.9          R6_2.5.0          cellranger_1.1.0 
 [9] backports_1.2.0   reprex_0.3.0      evaluate_0.14     httr_1.4.2       
[13] pillar_1.4.6      rlang_0.4.8.9002  curl_4.3          readxl_1.3.1     
[17] data.table_1.13.2 rstudioapi_0.13   whisker_0.4       rmarkdown_2.5.3  
[21] labeling_0.4.2    foreign_0.8-75    htmlwidgets_1.5.2 munsell_0.5.0    
[25] shiny_1.5.0       broom_0.7.2       compiler_3.6.3    httpuv_1.5.4     
[29] modelr_0.1.8      xfun_0.19         pkgconfig_2.0.3   htmltools_0.5.0  
[33] tidyselect_1.1.0  fansi_0.4.1       crayon_1.3.4      dbplyr_2.0.0     
[37] withr_2.3.0       later_1.1.0.1     grid_3.6.3        jsonlite_1.7.1   
[41] xtable_1.8-4      gtable_0.3.0      lifecycle_0.2.0   DBI_1.1.0        
[45] git2r_0.27.1      magrittr_2.0.1    scales_1.1.1.9000 zip_2.1.1        
[49] cli_2.1.0         stringi_1.5.3     farver_2.0.3      fs_1.5.0         
[53] promises_1.1.1    xml2_1.3.2.9001   ellipsis_0.3.1    generics_0.1.0   
[57] vctrs_0.3.5       openxlsx_4.2.3    tools_3.6.3       glue_1.4.2       
[61] hms_0.5.3         fastmap_1.0.1     yaml_2.2.1        colorspace_2.0-0 
[65] rvest_0.3.6       knitr_1.30.2      haven_2.3.1      </code></pre>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
http://docs.mathjax.org/en/latest/configuration.html.  This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
